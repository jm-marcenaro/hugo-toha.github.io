<!doctype html><html lang=en><head><title>QGIS: Batch Processing</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.acf18e51e73de7340570bab4c3e1601d3592e6fa7d755123f66dd94032752e6b.css integrity="sha256-rPGOUec95zQFcLq0w+FgHTWS5vp9dVEj9m3ZQDJ1Lms="><meta property="og:url" content="https://hugo-toha.github.io/posts/qgis/qgis_1/"><meta property="og:site_name" content="Juan's Blog"><meta property="og:title" content="QGIS: Batch Processing"><meta property="og:description" content="An overview on QGIS batch processing capabilities"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-07-30T08:06:25+06:00"><meta property="article:modified_time" content="2024-07-30T08:06:25+06:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="QGIS: Batch Processing"><meta name=twitter:description content="An overview on QGIS batch processing capabilities"><meta name=description content="An overview on QGIS batch processing capabilities"><script data-goatcounter=https://114794.goatcounter.com/count async src=//gc.zgo.at/count.js></script><script>theme=localStorage.getItem("darkmode:color-scheme")||"system",theme=="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/>Juan's Blog</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>Home</a></li><li class=nav-item><a class=nav-link href=/#about>About</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>Posts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link href=/posts/gee/> GEE</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/gee/chirps/> CHIRPS</a><ul><li><a class=list-link href=/posts/gee/chirps/chirps_1/ title="CHIRPS Part 1">CHIRPS Part 1</a></li><li><a class=list-link href=/posts/gee/chirps/chirps_2/ title="CHIRPS Part 2">CHIRPS Part 2</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/gee/gfs/> GFS</a><ul><li><a class=list-link href=/posts/gee/gfs/gfs_1/ title="GFS Part 1">GFS Part 1</a></li><li><a class=list-link href=/posts/gee/gfs/gfs_2/ title="GFS Part 2">GFS Part 2</a></li></ul></li></ul></li><li><i data-feather=minus-circle></i><a class="active list-link" href=/posts/qgis/> QGIS</a><ul class=active><li><a class="active list-link" href=/posts/qgis/qgis_1/ title="Batch Processing">Batch Processing</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/default-hero.jpg)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/author/john_hu14889220175809877743.png alt="Author Image"><h5 class=author-name>Juan Martín Marcenaro</h5><p class=text-muted>Tuesday, July 30, 2024</p></div><div class=title><h1>QGIS: Batch Processing</h1></div><div class=post-content id=post-content><h2 id=project-overview>Project Overview</h2><p>In this tutorial, we&rsquo;ll explore the capabilities of batch processing in QGIS. Batch processing is incredibly helpful for repetitive tasks that can otherwise consume a lot of time and effort. By automating these tasks, you can focus on more important aspects of your project, increasing both efficiency and productivity.</p><p>Let me set up an example where we&rsquo;ll fully leverage the power of batch processing in QGIS.</p><h2 id=case-example>Case Example</h2><p>We&rsquo;ve got a set of 12 MODIS land surface temperature (LST) images for an area of interest. These images are in Kelvin degrees, but before we can perform our analysis in Celsius, we need to first scale the temperature values by a factor of 0.02. After scaling, we&rsquo;ll convert the temperatures from Kelvin to Celsius by subtracting 273.</p><p>If we were to take the regular approach, we would have to open the Raster Calculator in QGIS and perform these operations 12 times, once for each image. However, with QGIS&rsquo;s batch processing tool, we can automate these tasks and handle all 12 images efficiently in one go.</p><p>First we&rsquo;ll load the images into QGIS as shown in the picture below:</p><div style=margin-top:1rem></div><img src=images/_01.png class=center><div style=margin-top:1rem></div><p>To perform the scaling and conversion, we will use the Raster Calculator. Note that the Raster Calculator in the traditional menu doesn’t support batch processing, so we need to access it through the Processing Toolbox as shown below:</p><div style=margin-top:1rem></div><img src=images/_02.png class=center><div style=margin-top:1rem></div><p>A window will open up and we will first click on the option <em>&lsquo;Run as Batch Process&rsquo;</em>. Afterwards, we’ll see the following menu:</p><div style=margin-top:1rem></div><img src=images/_03.png class=center><div style=margin-top:1rem></div><p>On this menu, we’ll need to fill out a table with the arguments for the process we are applying to each of our layers. We&rsquo;ll describe the necessary arguments for each of these columns:</p><ul><li><p><strong>Reference layer:</strong> let’s start by filling up the <em>&lsquo;Reference layer&rsquo;</em> column. If we click on the <em>&lsquo;Select from open layers&rsquo;</em> option, we’ll be able to choose from a list of all the available layers. As a result, the table will be automatically populated with these layers.</p></li><li><p><strong>Expression:</strong> Since we have numbered the layers, we will define the expression for the first layer, then use the fill down option for the other layers. Afterwards, manually edit each expression to match the corresponding layer name (this is straightforward as we have numbered the layers). The expression I used was the following: <em>(&ldquo;01@1&rdquo;*0.02)-273</em></p></li><li><p><strong>Cell size:</strong> By consulting layers metadata, we see that the spatial resolution is 0.0083 (expressed in degrees as layers have a geographical CRS), that&rsquo;s aproximately 925 meters at the equator. We’ll use this value and populate each row by using the fill down option again.</p></li><li><p><strong>Output extent:</strong> For the first layer we&rsquo;ll click on the three dots and select the <em>&lsquo;Calculate from layer option&rsquo;</em>. Remaining layers we&rsquo;ll be populated with the same value by using the fill down option.</p></li><li><p><strong>Output CRS:</strong> we&rsquo;ll choose the same CRS (EPSG: 4326) of the original layers and project and once again fill down to every other row.</p></li><li><p><strong>Output:</strong> Finally, it only remains to define the output for each layer. Click on the three dots for the first layer, set up a prefix (such as <em>C_</em>), and then click on the <em>&lsquo;Fill with numbers&rsquo;</em> option.</p></li></ul><p>As a result of all the steps we&rsquo;ve described above, the completed table should look like the picture shown below:</p><div style=margin-top:1rem></div><img src=images/_04.png class=center><div style=margin-top:1rem></div><p>Dont forget to check the <em>&lsquo;Load layers on completion&rsquo;</em> option to visualize your result upon completion!</p><p>We are now set up to execute the batch process. Click on Run, and if everything works correctly, no warnings should appear in the console. As a result, new layers should appear in the Layers panel, containing the converted temperatures from Kelvin to Celsius.</p><div style=margin-top:1rem></div><img src=images/_05.png class=center><div style=margin-top:1rem></div><div style=margin-top:1rem></div><img src=images/_06.png class=center><div style=margin-top:1rem></div><h2 id=conclusion>Conclusion</h2><p>Batch processing might seem daunting at first, but once you get the hang of it, it can be incredibly useful. Understanding the logic behind setting it up will make you more effective and help reduce repetitive and exhausting tasks. I hope this tutorial has been helpful. Stay tuned for more tutorials!</p></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/jm-marcenaro/hugo-toha.github.io/edit/main/content/posts/qgis/qgis_1.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/gee/gfs/gfs_2/ title="GEE Python API and Precipitation Forecasting - Part 2" class="btn filled-button"><div><i class="fas fa-chevron-circle-left"></i> Prev</div><div class=next-prev-text>GEE Python API and Precipitation Forecasting - Part 2</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#project-overview>Project Overview</a></li><li><a href=#case-example>Case Example</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://hugo-toha.github.io/#about>About</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:marcenarojuanmartin@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>marcenarojuanmartin@gmail.com</span></a></li><li><a href=https://github.com/jm-marcenaro target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>jm-marcenaro</span></a></li><li><a href=https://www.linkedin.com/in/juan-mart%c3%adn-marcenaro-338451192 target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Juan Martín Marcenaro</span></a></li></ul></div><div class="col-md-4 col-sm-12"><p>Stay up to date with email notification</p><form method=post action=https://blogtrottr.com><div class=form-group><input type=email class=form-control name=btr_email placeholder="Enter email"><br><input type=hidden name=btr_url value=https://hugo-toha.github.io//index.xml>
<input type=hidden name=schedule_type value=1>
<small id=emailHelp class="form-text text-muted">By entering your email address, you agree to receive the newsletter of this website.</small>
<button type=submit class="btn btn-info"> Submit</button></div></form></div></div></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu16779671404603505019.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2020 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.fe75ce808df7291053ed992c7d795288541d1eca9a369ed0f4845e687ad403de.js integrity="sha256-/nXOgI33KRBT7ZksfXlSiFQdHsqaNp7Q9IReaHrUA94=" defer></script></body></html>